"use strict";function ibg(){let e=document.querySelectorAll(".ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}!function(){let e=[],t=document.querySelectorAll("[data-da]"),n=[],i=[];if(t.length>0){let l=0;for(let i=0;i<t.length;i++){const r=t[i],c=r.getAttribute("data-da");if(""!=c){const t=c.split(","),i=t[1]?t[1].trim():"last",a=t[2]?t[2].trim():"767",d="min"===t[3]?t[3].trim():"max",u=document.querySelector("."+t[0].trim());t.length>0&&u&&(r.setAttribute("data-da-index",l),e[l]={parent:r.parentNode,index:(s=r,o=void 0,o=Array.prototype.slice.call(s.parentNode.children),o.indexOf(s))},n[l]={element:r,destination:document.querySelector("."+t[0].trim()),place:i,breakpoint:a,type:d},l++)}}(r=n).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),r.sort((function(e,t){return e.place>t.place?1:-1}));for(let e=0;e<n.length;e++){const t=n[e],r=t.breakpoint,s=t.type;i.push(window.matchMedia("("+s+"-width: "+r+"px)")),i[e].addListener(c)}}var r,s,o;function c(e){for(let e=0;e<n.length;e++){const t=n[e],r=t.element,s=t.destination,o=t.place,c="_dynamic_adapt_"+t.breakpoint;if(i[e].matches){if(!r.classList.contains(c)){let e=a(s)[o];"first"===o?e=a(s)[0]:"last"===o&&(e=a(s)[a(s).length]),s.insertBefore(r,s.children[e]),r.classList.add(c)}}else r.classList.contains(c)&&(l(r),r.classList.remove(c))}}function l(t){const n=t.getAttribute("data-da-index"),i=e[n],r=i.parent,s=i.index,o=a(r,!0)[s];r.insertBefore(t,r.children[o])}function a(e,t){const n=e.children,i=[];for(let e=0;e<n.length;e++){const r=n[e];(t||null==r.getAttribute("data-da"))&&i.push(e)}return i}c()}(),ibg();const MENU=document.querySelector(".menu__list"),LINKS=document.querySelectorAll(".menu__list a");function onScroll(e){const t=window.scrollY;document.querySelectorAll(".page>div").forEach(e=>{e.getAttribute("id"),e.offsetTop<=t&&e.offsetTop+e.offsetHeight>t&&LINKS.forEach(t=>{t.classList.remove("active"),e.getAttribute("id")===t.getAttribute("href").substring(1)&&t.classList.add("active")})})}document.addEventListener("scroll",onScroll);let main_swiper={sliderItems:document.querySelectorAll(".item-main-slider"),sliderContainer:document.querySelector(".main-slider"),controlL:document.querySelector(".left"),controlR:document.querySelector(".right")};const sliderDetect=(e,t,n,i)=>{let r=e,s=0,o=!0,c=i;function l(e){s=(e+r.length)%r.length}function a(e){o=!1,r[s].classList.add(e),r[s].addEventListener("animationend",(function(){this.classList.remove("_active",e)}))}function d(e){r[s].classList.add("next",e),r[s].addEventListener("animationend",(function(){this.classList.remove("next",e),this.classList.add("_active"),o=!0}))}function u(e){a("to-right"),l(e-1),d("from-left")}function m(e){a("to-left"),l(e+1),d("from-right")}n.addEventListener("click",(function(){o&&u(s)})),c.addEventListener("click",(function(){o&&m(s)}));(e=>{let t=e,n=0,i=0,r=0,c=0,l=0,a=0;t.addEventListener("touchstart",(function(e){(e.target.classList.contains("arrow")||e.target.classList.contains("slider__control"))&&(e.target.classList.contains("left")?o&&u(s):e.target.classList.contains("right")&&o&&m(s));let t=e.changedTouches[0];n=t.pageX,i=t.pageY,l=(new Date).getTime()})),t.addEventListener("touchmove",(function(e){e.preventDefault()})),t.addEventListener("touchend",(function(e){let t=e.changedTouches[0];r=t.pageX-n,c=t.pageY-i,a=(new Date).getDate()-l,a<=300&&Math.abs(r)>=100&&Math.abs(c)<=100&&(r>0?o&&u(s):o&&m(s))}))})(t)};sliderDetect(main_swiper.sliderItems,main_swiper.sliderContainer,main_swiper.controlL,main_swiper.controlR);let slider_lots=function(){let e=0,t=3,n=document.documentElement.clientWidth;const i=document.querySelector(".slider-lots"),r=document.querySelector(".slider-lots__body"),s=document.querySelectorAll(".slider-lots__slide");!function(){n<=992&&(t=2);n<=550&&(t=1)}();const o=s.length,c=document.querySelector(".control-slider-lots__arrow_next"),l=document.querySelector(".control-slider-lots__arrow_prev");let a=i.clientWidth/t;const d=1*a;s.forEach(e=>{e.style.minWidth=a+"px"}),l.addEventListener("click",(function(){const t=Math.abs(e)/a;e+=t>=1?d:t*a,u(),m()})),c.addEventListener("click",(function(){const n=o-(Math.abs(e)+t*a)/a;e-=n>=1?d:n*a,u(),m()}));const u=()=>{r.style.transform=`translateX(${e}px)`},m=()=>{l.disabled=0===e,c.disabled=e<=-(o-t)*a};m()};slider_lots(),window.addEventListener("resize",slider_lots);const USER_ICON=document.querySelector(".user-header__icon"),MOBILE_BACKGROUND=document.querySelector(".menu__body"),BURGER_BUTTON=document.querySelector(".burger-menu");let userMenu=document.querySelector(".user-header__menu");USER_ICON.addEventListener("click",(function(e){userMenu.classList.toggle("_active")})),BURGER_BUTTON.addEventListener("click",e=>{MOBILE_BACKGROUND.classList.toggle("_active"),"menu__body _active"===MOBILE_BACKGROUND.classList.value?BURGER_BUTTON.style.transform="rotate(90deg)":BURGER_BUTTON.style.transform="rotate(0)"}),document.addEventListener("click",(function(e){e.target.closest(".user-header")||userMenu.classList.remove("_active")})),MENU.addEventListener("click",e=>{LINKS.forEach(e=>e.classList.remove("active")),e.target.classList.add("active"),"menu__link active"===e.target.classList.value&&(MOBILE_BACKGROUND.classList.remove("_active"),BURGER_BUTTON.style.transform="rotate(0)")});